<div class="quiz-container">
  <!-- Section Selector Box -->
  <div class="section-selector-box">
    <div class="section-selector">
      <h3>Select Quiz</h3>

      <!-- Basics Dropdown -->
      <div class="dropdown">
        <label for="basics-select">Basics:</label>
        <select id="basics-select" (change)="changeSection($event)">
          <option value="0">HTML/CSS/Dev Tools</option>
          <option value="1">Intermediate CSS with Responsive Design</option>
          <option value="2">GitHub Version Control</option>
        </select>
      </div>

      <!-- JavaScript Dropdown -->
      <div class="dropdown">
        <label for="javascript-select">JavaScript:</label>
        <select id="javascript-select" (change)="changeSection($event)">
          <option value="0">JavaScript Data Types & Variables</option>
        </select>
      </div>

      <!-- Angular & TypeScript Dropdown -->
      <div class="dropdown">
        <label for="angular-select">Angular & TypeScript:</label>
        <select id="angular-select" (change)="changeSection($event)">
          <option value="0">Angular Getting Started</option>
          <option value="1">Angular Project Basics</option>
          <option value="2">Angular Components</option>
          <option value="3">Angular Directives</option>
          <option value="4">Angular Routing</option>
          <option value="5">Angular Forms</option>
          <option value="6">Angular HTTP</option>
          <option value="7">Angular Authentication</option>
          <option value="8">Angular Dynamic Components</option>
          <option value="9">Angular Animations</option>
          <option value="10">Angular Unit Testing</option>
          <option value="11">TypeScript Introduction</option>
        </select>
      </div>
    </div>
  </div>



  <!-- Main Quiz Section -->
  <div class="quiz-section">
    <!-- Display current question -->
    <div *ngIf="currentQuestionIndex < getCurrentSection().questions.length">
      <app-lesson-timer [timeLimit]="30"></app-lesson-timer>
      <h2>Question {{ currentQuestionIndex + 1 }}</h2>
      <p>{{ getCurrentSection().questions[currentQuestionIndex].question }}</p>

      <!-- Multiple-choice questions -->
      <div *ngIf="getCurrentSection().questions[currentQuestionIndex].options.length > 0">
        <div *ngFor="let option of getCurrentSection().questions[currentQuestionIndex].options">
          <label>
            <input type="radio" name="options" [(ngModel)]="selectedOption" [value]="option">
            {{ option }}
          </label>
        </div>
      </div>

      <!-- True/False questions -->
      <div *ngIf="getCurrentSection().questions[currentQuestionIndex].options.length === 0">
        <label>
          <input type="radio" name="options" [(ngModel)]="selectedOption" value="True">
          True
        </label>
        <label>
          <input type="radio" name="options" [(ngModel)]="selectedOption" value="False">
          False
        </label>
      </div>

      <button (click)="submitAnswer()">Submit Answer</button>
      <p>{{ feedback }}</p>
    </div>

    <!-- Review Section -->
    <div *ngIf="showReview">
      <h2>Review Your Answers</h2>
      <p>Total Questions: {{ getCurrentSection().questions.length }}</p>
      <p>Correct Answers: {{ correctCount }} / {{ getCurrentSection().questions.length }} ({{ correctPercentage }}%)</p>
      <ul>
        <li *ngFor="let result of results" [ngClass]="{'correct': result.isCorrect, 'incorrect': !result.isCorrect}">
          <p>Question {{ result.index + 1 }}: {{ result.question }}</p>
          <p>Your Answer: {{ result.selectedOption }}</p>
          <p>Correct Answer: {{ result.correctAnswer }}</p>
          <p>Status: {{ result.isCorrect ? 'Correct' : 'Incorrect' }}</p>
        </li>
      </ul>
    </div>

  </div>
    <!-- Navigation Box -->
    <div class="navigation-box">
      <h3>Question Navigation</h3>
      <div class="question-numbers">
        <div *ngFor="let number of questionNumbers"
             [ngClass]="{'answered': isAnswered(number), 'not-answered': !isAnswered(number)}"
             (click)="navigateToQuestion(number)">
          {{ number }}
        </div>
      </div>
    </div>
</div>
